<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="shortcut icon" href="../dist/img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="../dist/img/favicon.ico" type="image/x-icon">
  <title>Dodoo | Employees</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <!--link rel="stylesheet" href="../bower_components/font-awesome/css/font-awesome.min.css">-->
  <!-- Ionicons -->
  <link rel="stylesheet" href="../bower_components/Ionicons/css/ionicons.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="../SLDS/salesforce-lightning-design-system.min.css">
  <link rel="stylesheet" href="../dist/css/AdminLTE.min.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="../dist/css/skins/_all-skins.min.css">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <style>
    label {
      margin-bottom: 0!important;
    }

    .ng-cloak {
      display: none !important;
    }

    .pac-container {
      z-index: 10000!important;
    }
  </style>
  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
</head>

<body class="hold-transition skin-blue sidebar-mini ng-cloak" ng-app="empApp" ng-controller="empCtrl">
  <div class="wrapper">

    <header class="main-header">
      <!-- Logo -->
      <a href="../dashboard.html" class="logo">
        <!-- mini logo for sidebar mini 50x50 pixels -->
        <span class="logo-mini">
          <b>DoDoo</b>
        </span>
        <!-- logo for regular state and mobile devices -->
        <span class="logo-lg">
          <b>DoDoo</b> - Admin</span>
      </a>
      <!-- Header Navbar: style can be found in header.less -->
      <nav class="navbar navbar-static-top">
        <!-- Sidebar toggle button-->
        <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>

        <div class="navbar-custom-menu">
          <ul class="nav navbar-nav">
            <!-- User Account: style can be found in dropdown.less -->
            <li class="dropdown user user-menu">
              <a href="#" ng-click="signOut()">
                <i class="fa  fa-sign-out"></i>Sign out</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
      <!-- sidebar: style can be found in sidebar.less -->
      <section class="sidebar">
        <ul class="sidebar-menu" data-widget="tree">
          <li class="header">MAIN NAVIGATION</li>
          <li>
            <a href="../dashboard.html">
              <i class="fa fa-dashboard"></i>
              <span>Dashboard</span>
            </a>
          </li>
          <li>
            <a href="booking.html">
              <i class="fa fa-book"></i>
              <span>Bookings</span>
            </a>
          </li>
          <li>
            <a href="revenuedetails.html">
              <i class="fa fa-inr"></i>
              <span>Revenue Details</span>
            </a>
          </li>
          <li>
            <li>
              <a href="categories.html">
                <i class="fa  fa-list-alt"></i>
                <span>Category</span>
              </a>
            </li>
            <li>
              <a href="services.html">
                <i class="fa  fa-wrench"></i>
                <span>Services</span>
              </a>
            </li>
            <li>
              <a href="headerImage.html">
                <i class="fa   fa-upload"></i>
                <span>Header Image</span>
              </a>
            </li>
            <li>
              <a href="offerImage.html">
                <i class="fa   fa-cloud-upload"></i>
                <span>Offer Image</span>
              </a>
            </li>
            <li>
              <a href="notification.html">
                <i class="fa   fa-bell"></i>
                <span>Notification</span>
              </a>
            </li>
            <li>
              <a href="" onclick="window.open('https://www.firebase.com/login/', '_blank');">
                <i class="fa fa-bar-chart"></i>
                <span>Analytics</span>
              </a>
            </li>
            <li class="header">Employee</li>
            <li><a href="employees.html"><i class="fa fa-circle-o"></i>Add/View</a></li>
            <li class="active"><a href="attendance.html"><i class="fa fa-circle-o"></i>Attendance</a></li>
            <li><a href="tracking.html"><i class="fa fa-circle-o"></i>Track</a></li>
            <li><a href="leaveForm.html"><i class="fa fa-circle-o"></i>Leave Form</a></li>
        </ul>
      </section>
      <!-- /.sidebar -->
    </aside>

<!--Demo 123-->
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          Employees
        </h1>
        <ol class="breadcrumb">
          <li>
            <a href="#">
              <i class="fa fa-dashboard"></i> Home</a>
          </li>
          <li class="active">Employees</li>
        </ol>
      </section>
      <section class="content">
          <div class="row">
            <div class="col-md-12">
                <div class="box">
                    <div class="box-header">
                        <h3 class="box-title">Attendance</h3>
                    </div>
                    <!-- /.box-header -->
                    <div class="box-body">
                        <article class="slds-card" style="margin-top:1rem;">
                            <div class="slds-card__header slds-grid">
                                <header class="slds-media slds-media_center slds-has-flexi-truncate slds-grid slds-wrap">
                                    <div class="slds-grid slds-wrap slds-size_1-of-1">
                                        <div class="slds-size--1-of-6 slds-m-top_medium" ng-show="allEmp.length > 0">
                                            <input ng-disabled="currentPage == 0" ng-click="paginationFunction('pre');" type="button" class="slds-button slds-button--neutral"
                                            value="Previous"/> {{currentPage+1}}/{{allEmp.length == 0 ? '1' : (allEmp.length/pageSize | ceil)}}
                                            <input ng-disabled="currentPage >= allEmp.length/pageSize - 1" ng-click="paginationFunction('next');" type="button" class="slds-button slds-button--neutral"
                                            value="Next" />
                                        </div>
                                        <div class="slds-size--4-of-6 slds-grid">
                                            <div class="slds-size--1-of-3"></div>
                                            <div class="slds-form-element__control slds-size--1-of-3">
                                                <label class="slds-form-element__label" for="select-01"></label>
                                                <input type="text" class="slds-input"  placeholder="Search...."  ng-model="searchTxt"/>
                                            </div>
                                            <div class="slds-size--1-of-3"></div>
                                        </div>
                                        <div class="slds-size--1-of-6" ng-show="allEmp.length > 0">
                                            <label class="slds-form-element__label" for="select-01"></label>
                                            <div class="slds-form-element__control">
                                                <div class="slds-select_container">
                                                    <select class="slds-select" id="select-01" ng-options="item as item for item in selectData" ng-model="pageSize" ng-change="currentPage=0;"></select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </header>
                            </div>
                            <div class="slds-card__body slds-card__body_inner">
                              <table class="slds-table slds-table_fixed-layout slds-table_bordered slds-table_cell-buffer">
                                    <thead>
                                        <tr class="slds-text-title_caps">
                                            <th scope="col">
                                                <div class="slds-truncate">Employee Id</div>
                                            </th>
                                            <th scope="col">
                                                <div class="slds-truncate">Employee Name</div>
                                            </th>
                                            <th scope="col">
                                                <div class="slds-truncate">Log In</div>
                                            </th>
                                            <th scope="col">
                                                <div class="slds-truncate">Log out</div>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="emp in allEmp | startFrom:currentPage*pageSize | limitTo:pageSize | filter:{ name: searchTxt}">
                                            <td class="slds-truncate">
                                                {{emp.employee_id}}
                                            </td>
                                            <td class="slds-truncate">
                                                {{emp.name}}
                                            </td>
                                            <td class="slds-truncate">
                                                <div ng-if="emp.login_time">{{emp.login_time * 1000 | date:'dd/MM/yyyy hh:mm a'}}</div>
                                            </td>
                                            <td class="slds-truncate">
                                                <div ng-if="emp.logout_time">{{emp.logout_time  * 1000  | date:'dd/MM/yyyy hh:mm a'}}</div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div ng-hide="allEmp.length > 0" class="slds-size--1-of-1 slds-text-align_center" style="margin-top: 0.75rem;">
                                    No data to display.
                                </div>
                            </div>
                        </article>
                    </div>
                </div> 
            </div>
         </div>
       </section>
    </div>
    <div class="control-sidebar-bg"></div>
  </div>
  <div ng-if="showSpinner" style="height: 6rem;">
    <div>
      <div role="status" class="slds-spinner slds-spinner_brand slds-spinner_large">
        <span class="slds-assistive-text">Loading</span>
        <div class="slds-spinner__dot-a"></div>
        <div class="slds-spinner__dot-b"></div>
      </div>
      <div class="slds-backdrop slds-backdrop_open" style="opacity:.4;"></div>
    </div>
  </div>
  <!-- ./wrapper -->
  <!-- Angular Material requires Angular.js Libraries -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

  <!-- jQuery 3 -->
  <script src="../bower_components/jquery/dist/jquery.min.js"></script>
  <!-- Bootstrap 3.3.7 -->
  <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- SlimScroll -->
  <script src="../bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
  <!-- FastClick -->
  <script src="../bower_components/fastclick/lib/fastclick.js"></script>
  <!-- AdminLTE App -->
  <script src="../dist/js/adminlte.min.js"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="../dist/js/demo.js"></script>
  <!-- page script -->
  <script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyAONFiPe-AiSCZNx7vKpYQWtC4fAqo3pvg"></script>

  <script src="../bower_components/angular-google-places-autocomplete/src/autocomplete.js"></script>
  <script>

    var app = angular.module('empApp', ['google.places']);
    app.filter('startFrom', function () {
        return function (input, start) {
            start = +start;
            if (input && input.length > 0) return input.slice(start);
        }
    });

    app.filter('ceil', function() {
        return function(input) {
            return Math.ceil(input);
        };
    });

    app.controller('empCtrl', function ($scope, $http, $window, $location) {
        $scope.currentPage = 0;
        $scope.selectData = ['5', '10', '25', '50', '100'];
        $scope.pageSize = $scope.selectData[1];

        $scope.paginationFunction = function (direction) {
            if (direction == 'pre') {
                $scope.currentPage--;
            } else if (direction == 'next') {
                $scope.currentPage++;
            }
        }
        
        $scope.allEmp = [];
        
        var getEmployees = function () {
            $scope.showSpinner = true;
            if ($window.localStorage['isLogin']) {
            $http({
                method: 'GET',
                url: 'https://freelaunce2.herokuapp.com/admin/employeeList',
                headers: { 'Content-Type': 'application/json' }
            }).success(function (data) {
                console.log('data', data);
                $scope.allEmp = data.employeeList;
                $scope.showSpinner = false;
            })
            } else {
            window.location.href = '../index.html';
            }
        };
        getEmployees();
    });
  </script>
</body>

</html>